<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0, user-scalable=yes" />

    <!-- app設定 -->
    <link rel="apple-touch-icon" href="icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>一手掌握充電站</title>
</head>

<body>
    <!-- <script>
        location.assign("./location.html")
    </script> -->
    <!-- <div class="verifyModal"></div> -->
    <div id="verifyPlace">
        <label for="">請輸入驗證碼：</label>
        <input type="password" id="password">
        <button onclick="Login()">送出</button>
    </div>
    <iframe src="./location.html" frameborder="0"></iframe>
</body>
<style>
    body {
        position: relative;
        margin: 0;
        width: 100vw;
        height: calc(var(--vh)*100);
        overflow: hidden;
        color: #000;
    }

    iframe {
        width: 100%;
        height: 100%;
    }
</style>

<script>
    const testPassword = "70771557Car";
    // First we get the viewport height and we multiple it by 1% to get a value for a vh unit
    let vh = window.innerHeight * 0.01;
    // Then we set the value in the --vh custom property to the root of the document
    document.documentElement.style.setProperty('--vh', `${vh}px`);

    document.querySelector("#verifyPlace").style.display = "none";

    VerifyUser();

    function VerifyUser() {
        let Password = sessionStorage.getItem("Password");
        if (Password == testPassword) {
            document.querySelector("iframe").style.display = "block";
            document.querySelector("#verifyPlace").style.display = "none";
        }
        else{
            document.querySelector("#verifyPlace").style.display = "block";
            document.querySelector("iframe").style.display = "none";
        }
        //  else {
        //     let inputPassword = prompt("請輸入驗證碼", "");
        //     if (inputPassword != testPassword)
        //         document.querySelector("body").innerHTML = "";
        //     else {
        //         localStorage.setItem("Password", testPassword);
        //     }
        // }
    }
    function Login(){
        let inputPassword = document.getElementById("password").value;
        if(inputPassword == testPassword){
            sessionStorage.setItem("Password", testPassword);
            document.querySelector("iframe").style.display = "block";
            document.querySelector("#verifyPlace").style.display = "none";
        }
    }
</script>

</html>